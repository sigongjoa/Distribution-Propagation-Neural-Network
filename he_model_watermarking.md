# 동형암호 기반 모델 워터마킹(모델 ID) 프레임워크

## 0. 배경 및 개념
- DPNN 프레임워크의 SecurityCell 개념: HE 컨텍스트를 셀 인터페이스에 통합하여 암호문 상태로 안전한 연산 수행
- HE 컨텍스트의 공개/비밀 키 쌍은 단순 암호화 매개체를 넘어, **모델 ID**, **접근 권한**, **버전 관리** 지표로 활용 가능

# 동형암호 기반 모델 워터마킹(모델 ID) 프레임워크(모델 ID) 프레임워크

## 1. 개요
- HE 컨텍스트(공개/비밀 키 쌍)를 모델별 고유 식별자로 활용
- 키가 곧 **모델 ID**, **버전**, **접근 권한**을 담는 암호화 워터마크 역할 수행

---

## 2. 워터마킹(Fingerprinting)
- **키-모델 바인딩**: 특정 키 쌍으로만 복호화 가능한 가중치/추론 결과 생성
- 이를 통해 출력의 출처(모델 A vs 모델 B)를 판단 가능

---

## 3. 악용 방지(Authorization)
- **키 없는 접근 차단**: 비밀 키 소유자만 복호화 → 권한 없는 사용자는 결과 확인 불가
- 무단 복제·배포 시도 시에도 복호화 실패 → 서비스 남용 방지

---

## 4. 사용 추적(Audit & Logging)
- **키 사용 이벤트 기록**: “키 X로 모델 A v1 복호화” 등의 로그 자동 생성
- 감사 로그 기반으로 사용자·시스템 행위 모니터링 및 이상 탐지

---

## 5. 버전 관리(Versioning)
- **모델 업데이트 시 새 키 발급** → 버전별 워터마크 부여
- 구버전 vs 신버전 출력 구분 가능 → 모델 라이프사이클 전체 통제

---

## 6. 구현 고려사항
1. **키 관리**: HSM/Key Vault에 비밀 키 안전 보관
2. **접근 제어**: IAM 정책 연동, 키 발급·회수 프로세스 설계
3. **운영 로깅**: 중앙 로그 수집·분석 파이프라인 구축
4. **성능 최적화**: 복호화 레이턴시 최소화, 배치 처리 등

---

### 요약
HE 키를 모델 ID로 활용한 워터마킹 프레임워크는 “암호화된 상태”에서 **출처 증명**, **권한 제어**, **사용 추적**, **버전 관리**를 동시에 달성함으로써 모델 보안·통제 수준을 획기적으로 높입니다.

